<div class="container-fluid">
  <div id="search-bar" class="row" ng-controller="TenderersSearchBarController" ng-init="tender_id = <%= tender.id %>;">
    <div class="col-lg-6">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Search Tenderers" ng-model="query.text">
        <span class="input-group-btn">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            <span class="caret"></span>
          </button>
          <div class="dropdown-menu dropdown-menu-right">
            <form class="form-horizontal tc-dropdown-form" role="form" ng-click="preventClose($event)">
              <div class="form-group">
                <label for="query-package" class="col-sm-2">Within</label>
                <div class="col-sm-10">
                  <select id="query-package" class="form-control" ng-model="query.package" ng-options="package.name for package in packages">
                    <option value="">All Packages</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="query-text" class="col-sm-12">Has the words:</label>
                <div class="col-sm-12">
                  <input type="text" class="form-control" id="query-text" ng-model="query.text">
                </div>
              </div>
              <div class="form-group">
                <label for="query-status" class="col-sm-12">Status</label>
                <div class="col-sm-12">
                  <select multiple id="query-status" class="form-control" ng-model="query.statuses">
                    <option value="Tenderer created">Tenderer created</option>
                    <option value="Tenderer invited">Tenderer invited</option>
                    <option value="Tenderer notified">Tenderer notified</option>
                    <option value="Package downloaded">Package downloaded</option>
                    <option value="Tender quoted">Tender quoted</option>
                    <option value="Tender declined">Tender declined</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-6">
                  <button type="submit" class="btn btn-primary" ng-click="search(closeSearchForm=true)"><i class="fa fa-search"></i></button>
                </div>
                <div class="col-sm-6">
                  <a href="#" class="pull-right" ng-click="cleanFilters($event)"><i class="fa fa-times"></i> clean filters</a>
                </div>
              </div>
            </form>
          </div>
          <button type="submit" class="btn btn-primary" ng-click="search()"><i class="fa fa-search"></i></button>
        </span>
      </div><!-- /input-group -->
      <div class="well well-sm">
        <p>
        <span ng-class="{ hidden: !query.text.length }">Has word: <span class="badge">{{ query.text }}</span>, </span>
        <span ng-class="{ hidden: !query.package.name.length }">Package: <span class="badge">{{ query.package.name }}</span>, </span>
        <span ng-class="{ hidden: !query.statuses.length }">Status: <span ng-repeat="status in query.statuses"><span class="badge">{{ status }}</span></span></span>
        </p>
      </div>
    </div><!-- /.col-lg-6 -->
  </div>
</div>
